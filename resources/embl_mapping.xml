<?xml version="1.0"?>
<!--
 * Jalview - A Sequence Alignment Editor and Viewer (2.10.1)
 * Copyright (C) 2016 The Jalview Authors
 * 
 * This file is part of Jalview.
 * 
 * Jalview is free software: you can redistribute it and/or
 * modify it under the terms of the GNU General Public License 
 * as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
 *  
 * Jalview is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty 
 * of MERCHANTABILITY or FITNESS FOR A PARTICULAR 
 * PURPOSE.  See the GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License along with Jalview.  If not, see <http://www.gnu.org/licenses/>.
 * The Jalview Authors are detailed in the 'AUTHORS' file.
-->
<mapping xmlns="http://castor.exolab.org/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://castor.exolab.org/ ../schemas/castor-mapping.xsd">
<!--
	History: Originally created from EMBL_common_V1.0
	Updated on 24th April 2007 for WsDBFetch Service move to EMBL_Services_V1.1.xsd
	Updated May 2016 for EMBL XML 1.2 JAL-2113 JAL-2114
	  see ftp://ftp.sra.ebi.ac.uk/meta/xsd/sra_1_5/ENA.embl.xsd
	  see http://www.ebi.ac.uk/ena/submit/data-formats
	-->
	<class name="jalview.datamodel.xdb.embl.EmblFile">
		<map-to xml="ROOT"/>
		<field name="text" type="string">
			<bind-xml node="text"/>
		</field>
		<field name="entries" type="jalview.datamodel.xdb.embl.EmblEntry" collection="vector">
			<bind-xml name="entry"/>
		</field>
		<field name="errors" type="jalview.datamodel.xdb.embl.EmblError" collection="vector">
			<bind-xml name="Error"/>
		</field>
	</class>
	<class name="jalview.datamodel.xdb.embl.EmblEntry">
		<field name="accession" type="string">
			<bind-xml name="accession" node="attribute"/>
		</field>
		<!-- 
		    in EMBL XML 1.2 sequence/@version became entry/version 
		    entry/@version became entry/@entryVersion
		-->
		<field name="sequenceVersion" type="string">
			<bind-xml name="version" node="attribute"/>
		</field>
		<field name="entryVersion" type="string">
			<bind-xml name="entryVersion" node="attribute"/>
		</field>
		<field name="dataClass" type="string">
			<bind-xml name="dataClass" node="attribute"/>
		</field>
		<field name="taxonomicDivision" type="string">
			<bind-xml name="taxonomicDivision" node="attribute"/>
		</field>
		<field name="moleculeType" type="string">
			<bind-xml name="moleculeType" node="attribute"/>
		</field>
		<field name="sequenceLength" type="string">
			<bind-xml name="sequenceLength" node="attribute"/>
		</field>
		<field name="topology" type="string">
			<bind-xml name="topology" node="attribute" location="type"/>
		</field>
		<field name="firstPublicDate" type="string">
			<bind-xml name="firstPublic" node="attribute"/>
		</field>
		<field name="firstPublicRelease" type="string">
			<bind-xml name="firstPublicRelease" node="attribute"/>
		</field>
		<field name="lastUpdatedDate" type="string">
			<bind-xml name="lastUpdated" node="attribute"/>
		</field>
		<field name="lastUpdatedRelease" type="string">
			<bind-xml name="lastUpdatedRelease" node="attribute"/>
		</field>
		<field name="description" type="string">
			<bind-xml name="description" node="element"/>
		</field>
		<field name="keywords" type="string" collection="vector">
			<bind-xml name="keyword" node="element"/>
		</field>
		<field name="features" type="jalview.datamodel.xdb.embl.EmblFeature" collection="vector">
			<bind-xml name="feature"/>
		</field>
		<field name="dbRefs" type="jalview.datamodel.DBRefEntry" collection="vector">
			<bind-xml name="xref" />
		</field>
		<field name="sequence" type="jalview.datamodel.xdb.embl.EmblSequence">
			<bind-xml name="sequence"/>
		</field>
	</class>
	<class name="jalview.datamodel.xdb.embl.EmblSequence">
		<field name="sequence" type="string">
			<bind-xml node="text"/>
		</field>
	</class>
	<class name="jalview.datamodel.xdb.embl.EmblFeature" verify-constructable="false">
		<field name="name" type="string">
			<bind-xml name="name" node="attribute"/>
		</field>
		<field name="location" type="string">
			<bind-xml name="location" node="attribute"/>
		</field>
		<field name="dbRefs" type="jalview.datamodel.DBRefEntry" collection="vector">
			<bind-xml name="xref" node="element"/>
		</field>
		<field name="qualifiers" type="jalview.datamodel.xdb.embl.Qualifier" collection="vector">
			<bind-xml name="qualifier"/>
		</field>					
	</class>
	<class name="jalview.datamodel.DBRefEntry" verify-constructable="false">
		<field name="accessionId" type="java.lang.String">
			<bind-xml name="id" node="attribute"/>
		</field>
		<field name="source" type="java.lang.String"> 
			<bind-xml name="db" node="attribute"/>
		</field>
		<field name="version" type="string">
			<bind-xml name="secondaryId" node="attribute"/>
		</field>
	</class>
	<class  name="jalview.datamodel.xdb.embl.Qualifier" verify-constructable="false">
		<field name="name">
			<bind-xml name="name" node="attribute"/>
		</field>
		<field name="evidence" type="string" collection="array">
			<bind-xml name="evidence" node="element"/>
		</field>
		<field name="values" type="string" collection="array">
			<bind-xml name="value" node="element"/>
		</field>
	</class>
</mapping>
